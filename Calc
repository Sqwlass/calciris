from argparse import ÐŸÑ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÑ‚Ð²Ð¾ Ð¸Ð¼ÐµÐ½
Ð¸Ð· .. Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ñ‡Ð¸Ðº, ÑƒÑ‚Ð¸Ð»Ð¸Ñ‚Ñ‹
Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ asyncio, pytz, re, Ñ‚ÐµÐ»ÐµÐ¼Ð°Ñ€Ð°Ñ„Ð¾Ð½
Ð¸Ð· telethon.tl.types Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ MessageEntityTextUrl
Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ json ÐºÐ°Ðº JSON
Ð¸Ð· Ð´Ð°Ñ‚Ñ‹ Ð¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð°Ñ‚Ñƒ Ð¸ Ð²Ñ€ÐµÐ¼Ñ, Ð´Ð°Ñ‚Ñƒ, Ð²Ñ€ÐµÐ¼Ñ
Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ telethon.events ÐºÐ°Ðº ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ
Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ð¹
ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð°
Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð³ÑƒÐ¼Ð°Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ
Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÑƒ


ÐºÐ»Ð¸ÐµÐ½Ñ‚ = 0;
Ð´Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ»Ð°ÑÑÐ°:
 ID_Ð²Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ð° = 5089358584

ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ ÐºÐ»Ð°ÑÑÐ°:

 async def calc(ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚ÑŒ, fromlvl, tolvl):
  """ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€"""
  ÐµÑÐ»Ð¸ int(fromlvl) >= int(tolvl) Ð¸Ð»Ð¸ int(fromlvl) < 0 Ð¸Ð»Ð¸ int(tolvl) < 0: return;

  Ð½Ð¾Ð²Ð¾Ðµ_ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚ÑŒ_ÑÑ‚Ñ€Ð¾ÐºÐ°, Ñ†ÐµÐ½Ð° = "", "", 0;

  Ð´Ð»Ñ i Ð² Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½Ðµ (int (fromlvl), int (tolvl)):
   ÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ð¾ÑÑ‚ÑŒ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ñ:
    Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€ ("Ð·Ð°Ñ€Ð°Ð·Ð½Ð¾ÑÑ‚ÑŒ"|"Ð·Ð°Ñ€Ð°Ð·"|"Ð·Ð·"):
     Ñ†ÐµÐ½Ð° += (i + 1)**2,5;
     Ability_string = "âœ… Ð£ÑÐ¸Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ñ€Ð°Ð·Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð°Ñ‚Ð¾Ð³ÐµÐ½Ð°";
    ÑÐ»ÑƒÑ‡Ð°Ð¹ ("Ð¸Ð¼Ð¼ÑƒÐ½Ð¸Ñ‚ÐµÑ‚"|"Ð¸Ð¼Ð¼ÑƒÐ½"|"Ð¸Ð¼ÑƒÐ½"):
     Ñ†ÐµÐ½Ð° += (i + 1)**2,45;
     Ability_string = "âœ… Ð£ ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹";
    Ð¿Ð°Ð´ÐµÐ¶ ("Ð»ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ"|"Ð»ÐµÑ‚Ð°Ð»"|"Ð»ÐµÑ‚Ð°Ð»ÐºÐ°"):
     Ñ†ÐµÐ½Ð° += (i + 1)**1,95;
     Ability_string = "ðŸ—“ Ð£ÑÐ¸Ð»ÐµÐ½Ð¸Ðµ Ð»ÐµÑ‚Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð¿Ð°Ñ‚Ð¾Ð³ÐµÐ½Ð°";
    Ð¿Ð°Ð´ÐµÐ¶ ("ÐºÐ²Ð°Ð»Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ"|"ÐºÐ²Ð°Ð»Ð°"|"ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ"):
     Ñ†ÐµÐ½Ð° += (i + 1)**2,6;
     Ability_string = "âœ… Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´ÑÑ‚Ð²Ð° Ð¿Ð°Ñ‚Ð¾Ð³ÐµÐ½Ð°";
    Ð¿Ð°Ð´ÐµÐ¶ ("Ð¿Ð°Ñ‚Ð¾Ð³ÐµÐ½Ñ‹"|"Ð¿Ð°Ñ‚Ñ‹"|"Ð¿Ð°Ñ‚Ð¾Ð³ÐµÐ½"|"Ð¿Ð°Ñ‚"):
     Ñ†ÐµÐ½Ð° += (i + 1)**2;
     Ability_string = "ðŸ—“ Ð£Ð²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð° ÐºÐ»ÐµÑ‚Ð¾Ðº Ñ Ð¿Ð°Ñ‚Ð¾Ð³ÐµÐ½Ð¾Ð¼";
    case ("Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ"|"ÑÐ±"|"ÑÐ»ÑƒÐ¶Ð±Ð°"):
     Ñ†ÐµÐ½Ð° += (i + 1)**2,1;
     Ability_string = "âœ… Ð£ ÐºÑ€ÐµÐ¿Ð»ÐµÐ½Ð¸Ñ ÑÐ»ÑƒÐ¶Ð±Ñ‹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸";
    ÑÐ»ÑƒÑ‡Ð°Ð¹ _:
     Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°Ñ‚ÑŒÑÑ;

  Ñ†ÐµÐ½Ð° = ÑƒÐ» (Ñ†ÐµÐ»Ð¾Ðµ (Ñ†ÐµÐ½Ð°));
  new_message = Ability_string + " Ð½Ð° " + str(int(tolvl) - int(fromlvl))+ " ÑƒÑ€ (Ð´Ð¾ " + tolvl + ")\n";
  new_message += "ðŸ§¬ Ð¦ÐµÐ½Ð°: " + str(humanize.intcomma(price)).replace(",", ".") + "Ð±Ð¸Ð¾-Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²";
  Ð¶Ð´Ð°Ñ‚ÑŒ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ.Ð¾Ñ‚Ð²ÐµÑ‚(Ð½Ð¾Ð²Ð¾Ðµ_ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ);


ÐºÐ»Ð°ÑÑ CalcMod(Ð·Ð°Ð³Ñ€ÑƒÐ·Ñ‡Ð¸Ðº.ÐœÐ¾Ð´ÑƒÐ»ÑŒ):
 'ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚, ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð±Ð¸Ð¾-Ð¾Ð¿Ñ‹Ñ‚Ð° Ð´Ð»Ñ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ.\n Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹: ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€ (Ð°Ñ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚) (Ð¾Ñ‚) (Ð´Ð¾).\nÐÑ€Ð³ÑƒÐ¼ÐµÐ½Ñ‚Ñ‹:\nÐ·Ð°Ñ€Ð°Ð·Ð½Ð¾ÑÑ‚ÑŒ|Ð·Ð°Ñ€Ð°Ð·|Ð·Ð·\nÐ¸Ð¼Ð¼ÑƒÐ½Ð¸Ñ‚ÐµÑ‚|Ð¸Ð¼Ð¼ÑƒÐ½\nÐºÐ²Ð°Ð»Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ|ÐºÐ²Ð°Ð»Ð°|ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ\nÐ¿Ð°Ñ‚Ð¾Ð³ÐµÐ½Ñ‹|Ð¿Ð°Ñ‚Ñ‹|Ð¿Ð°Ñ‚Ð¾Ð³ÐµÐ½Ñ‹ |Ð¿Ð°Ñ‚\nÐ±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ|ÑÐ±|ÑÐ»ÑƒÐ¶Ð±Ð°'
 strings = {"Ð¸Ð¼Ñ": "ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€"};

 Ð½Ð°Ð±Ð»ÑŽÐ´Ð°Ñ‚ÐµÐ»ÑŒ Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ð¾Ð³Ð¾ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ (Ñ, ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ):
  ÐµÑÐ»Ð¸ Ð½Ðµ isinstance(ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, telethon.tl.types.Message): return;
  Ð°Ð²Ñ‚Ð¾Ñ€, ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ = Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ.get_sender(), ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ.ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ;

  ÐµÑÐ»Ð¸ author.id != data.owner_id: Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‚

  Ñ‡Ð°ÑÑ‚Ð¸ = ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ.split(" ");
  ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° = Ñ‡Ð°ÑÑ‚Ð¸[0];
  ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ñ:
   Ñ‡ÐµÑ…Ð¾Ð» "ÐšÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€":
    await commands.calc(ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, Ñ‡Ð°ÑÑ‚Ð¸[1], Ñ‡Ð°ÑÑ‚Ð¸[2], Ñ‡Ð°ÑÑ‚Ð¸[3]);
   Ñ‡ÐµÑ…Ð¾Ð» "ÐºÐ°Ð»ÑŒÐºÑƒÐ»ÑÑ‚Ð¾Ñ€":
    await commands.calc(ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, Ñ‡Ð°ÑÑ‚Ð¸[1], Ñ‡Ð°ÑÑ‚Ð¸[2], Ñ‡Ð°ÑÑ‚Ð¸[3]);
   Ð¿Ð°Ð´ÐµÐ¶ "ÐºÐ°Ð»Ðº":
    await commands.calc(ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, Ñ‡Ð°ÑÑ‚Ð¸[1], Ñ‡Ð°ÑÑ‚Ð¸[2], Ñ‡Ð°ÑÑ‚Ð¸[3]);
   Ñ‡ÐµÑ…Ð¾Ð» "ÐšÐ°Ð»Ðº":
    await commands.calc(ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, Ñ‡Ð°ÑÑ‚Ð¸[1], Ñ‡Ð°ÑÑ‚Ð¸[2], Ñ‡Ð°ÑÑ‚Ð¸[3]);
   ÑÐ»ÑƒÑ‡Ð°Ð¹ "Ñ€Ð°ÑÑ‡ÐµÑ‚":
    await commands.calc(ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, Ñ‡Ð°ÑÑ‚Ð¸[1], Ñ‡Ð°ÑÑ‚Ð¸[2], Ñ‡Ð°ÑÑ‚Ð¸[3]);
   Ñ‡ÐµÑ…Ð¾Ð» "Ð Ð°ÑÑ‡":
    await commands.calc(ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, Ñ‡Ð°ÑÑ‚Ð¸[1], Ñ‡Ð°ÑÑ‚Ð¸[2], Ñ‡Ð°ÑÑ‚Ð¸[3]);
   Ð¿Ð°Ð´ÐµÐ¶ "ÐºÐ°Ð»":
    await commands.calc(ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, Ñ‡Ð°ÑÑ‚Ð¸[1], Ñ‡Ð°ÑÑ‚Ð¸[2], Ñ‡Ð°ÑÑ‚Ð¸[3]);
